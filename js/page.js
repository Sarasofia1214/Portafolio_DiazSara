// Script para p√°ginas individuales
let currentLanguage = "es"

// Textos en diferentes idiomas para p√°ginas
const pageTexts = {
  es: {
    start: {
      title: "üåü Men√∫ de Inicio üåü",
      portfolioSection: "üìÅ Portfolio",
      systemSection: "‚öôÔ∏è Sistema",
      work: "Trabajo",
      workDesc: "Experiencia profesional",
      projects: "Proyectos",
      projectsDesc: "Mis creaciones",
      education: "Educaci√≥n",
      educationDesc: "Formaci√≥n acad√©mica",
      skills: "Habilidades",
      skillsDesc: "Tecnolog√≠as y skills",
      contact: "Contacto",
      contactDesc: "Informaci√≥n de contacto",
      language: "Idioma: Espa√±ol",
      languageDesc: "Cambiar idioma",
      settings: "Configuraci√≥n",
      settingsDesc: "Ajustes del sistema",
      shutdown: "Apagar",
      shutdownDesc: "Cerrar sesi√≥n",
      magicalDeveloper: "Desarrollador M√°gico",
    },
    work: {
      title: "‚ú® Experiencia Laboral ‚ú®",
      job1Title: "Desarrollador Frontend Senior",
      job1Company: "Magical Tech Co ‚Ä¢ 2022 - Presente",
      job1Description:
        "Creando experiencias de usuario encantadoras con React, Next.js, y una pizca de creatividad! ‚ú® Lidero equipos de desarrollo y implemento soluciones innovadoras para aplicaciones web modernas.",
      job2Title: "Desarrollador Junior",
      job2Company: "Dream Startup ‚Ä¢ 2020 - 2022",
      job2Description:
        "Constru√≠ aplicaciones web responsivas y aprend√≠ la magia del c√≥digo! Particip√© en el desarrollo de m√∫ltiples proyectos y adquir√≠ experiencia en tecnolog√≠as frontend y backend.",
    },
    projects: {
      title: "‚ú® Mis Proyectos ‚ú®",
      sectionTitle: "Proyectos Destacados",
      project1Title: "Plataforma E-commerce",
      project1Description: "Tienda online completa con carrito de compras y pagos",
      project2Title: "Sitio Web Portfolio",
      project2Description: "Portfolio personal con dise√±o kawaii y animaciones",
      project3Title: "Aplicaci√≥n M√≥vil",
      project3Description: "App m√≥vil para gesti√≥n de tareas con sincronizaci√≥n",
      project4Title: "Dashboard Analytics",
      project4Description: "Panel de control con gr√°ficos interactivos",
    },
    education: {
      title: "‚ú® Educaci√≥n ‚ú®",
      degreeTitle: "Licenciatura en Ciencias de la Computaci√≥n",
      degreeUniversity: "Universidad M√°gica ‚Ä¢ 2016 - 2020",
      degreeDescription:
        "Licenciatura con enfoque en desarrollo de software y algoritmos. Particip√© en proyectos de investigaci√≥n y obtuve reconocimientos acad√©micos por excelencia en programaci√≥n.",
      certificationsTitle: "Certificaciones",
    },
    skills: {
      title: "‚ú® Habilidades ‚ú®",
      technicalTitle: "Habilidades T√©cnicas",
      softTitle: "Habilidades Blandas",
      react: "React",
      nextjs: "Next.js",
      typescript: "TypeScript",
      nodejs: "Node.js",
      python: "Python",
      aws: "AWS",
      leadership: "Liderazgo",
      communication: "Comunicaci√≥n",
      problemSolving: "Resoluci√≥n de Problemas",
      teamwork: "Trabajo en Equipo",
      expert: "Experto",
      advanced: "Avanzado",
      intermediate: "Intermedio",
    },
    contact: {
      title: "‚ú® Cont√°ctame ‚ú®",
      sectionTitle: "¬°Ponte en Contacto!",
      email: "Email",
      linkedin: "LinkedIn",
      location: "Ubicaci√≥n",
      phone: "Tel√©fono",
      locationValue: "Dreamland, Cloud City",
    },
  },
  en: {
    start: {
      title: "üåü Start Menu üåü",
      portfolioSection: "üìÅ Portfolio",
      systemSection: "‚öôÔ∏è System",
      work: "Work",
      workDesc: "Professional experience",
      projects: "Projects",
      projectsDesc: "My creations",
      education: "Education",
      educationDesc: "Academic background",
      skills: "Skills",
      skillsDesc: "Technologies and skills",
      contact: "Contact",
      contactDesc: "Contact information",
      language: "Language: English",
      languageDesc: "Change language",
      settings: "Settings",
      settingsDesc: "System settings",
      shutdown: "Shut Down",
      shutdownDesc: "Log out",
      magicalDeveloper: "Magical Developer",
    },
    work: {
      title: "‚ú® Work Experience ‚ú®",
      job1Title: "Senior Frontend Developer",
      job1Company: "Magical Tech Co ‚Ä¢ 2022 - Present",
      job1Description:
        "Creating enchanting user experiences with React, Next.js, and a sprinkle of creativity! ‚ú® Leading development teams and implementing innovative solutions for modern web applications.",
      job2Title: "Junior Developer",
      job2Company: "Dream Startup ‚Ä¢ 2020 - 2022",
      job2Description:
        "Built responsive web applications and learned the magic of code! Participated in multiple project developments and gained experience in frontend and backend technologies.",
    },
    projects: {
      title: "‚ú® My Projects ‚ú®",
      sectionTitle: "Featured Projects",
      project1Title: "E-commerce Platform",
      project1Description: "Complete online store with shopping cart and payments",
      project2Title: "Portfolio Website",
      project2Description: "Personal portfolio with kawaii design and animations",
      project3Title: "Mobile Application",
      project3Description: "Mobile app for task management with synchronization",
      project4Title: "Analytics Dashboard",
      project4Description: "Control panel with interactive charts",
    },
    education: {
      title: "‚ú® Education ‚ú®",
      degreeTitle: "Computer Science Degree",
      degreeUniversity: "Magic University ‚Ä¢ 2016 - 2020",
      degreeDescription:
        "Bachelor's degree with focus on software development and algorithms. Participated in research projects and received academic recognition for excellence in programming.",
      certificationsTitle: "Certifications",
    },
    skills: {
      title: "‚ú® Skills ‚ú®",
      technicalTitle: "Technical Skills",
      softTitle: "Soft Skills",
      react: "React",
      nextjs: "Next.js",
      typescript: "TypeScript",
      nodejs: "Node.js",
      python: "Python",
      aws: "AWS",
      leadership: "Leadership",
      communication: "Communication",
      problemSolving: "Problem Solving",
      teamwork: "Team Work",
      expert: "Expert",
      advanced: "Advanced",
      intermediate: "Intermediate",
    },
    contact: {
      title: "‚ú® Contact Me ‚ú®",
      sectionTitle: "Get in Touch!",
      email: "Email",
      linkedin: "LinkedIn",
      location: "Location",
      phone: "Phone",
      locationValue: "Dreamland, Cloud City",
    },
  },
}

// Inicializaci√≥n de la p√°gina
document.addEventListener("DOMContentLoaded", () => {
  initializePage()
  addPageTransition()
})

function initializePage() {
  // Obtener idioma de la URL o localStorage
  const urlParams = new URLSearchParams(window.location.search)
  currentLanguage = urlParams.get("lang") || localStorage.getItem("language") || "es"

  // Actualizar textos de la p√°gina
  updatePageTexts()

  // Configurar event listeners espec√≠ficos de la p√°gina
  setupPageEventListeners()

  // Actualizar enlaces con idioma
  updatePageLinks()

  // Actualizar reloj si existe
  updateClock()
  setInterval(updateClock, 1000)

  // Agregar transici√≥n de entrada
  setTimeout(() => {
    document.body.style.opacity = "1"
  }, 100)

  // Agregar efectos flotantes
  addFloatingEffects()
}

function setupPageEventListeners() {
  const pageName = getPageName()

  if (pageName === "start") {
    // Cambio de idioma desde el men√∫ de inicio
    const languageMenuItem = document.querySelector(".language-menu-item")
    if (languageMenuItem) {
      languageMenuItem.addEventListener("click", toggleLanguage)
    }

    // Apagar sistema
    const shutdownItem = document.querySelector(".shutdown-item")
    if (shutdownItem) {
      shutdownItem.addEventListener("click", shutdownSystem)
    }
  }
}

function updatePageLinks() {
  // Actualizar todos los enlaces con el par√°metro de idioma
  document.querySelectorAll(".desktop-link").forEach((link) => {
    const href = link.getAttribute("data-href")
    if (href) {
      link.href = `${href}?lang=${currentLanguage}`
    }
  })
}

function updatePageTexts() {
  const pageName = getPageName()
  const texts = pageTexts[currentLanguage][pageName]

  if (!texts) return

  // Actualizar t√≠tulo de la ventana
  const windowTitle = document.getElementById("windowTitle")
  if (windowTitle && texts.title) {
    windowTitle.textContent = texts.title
  }

  // Actualizar contenido espec√≠fico seg√∫n la p√°gina
  updateSpecificContent(pageName, texts)
}

function getPageName() {
  const path = window.location.pathname
  if (path.includes("start.html")) return "start"
  if (path.includes("work.html")) return "work"
  if (path.includes("projects.html")) return "projects"
  if (path.includes("education.html")) return "education"
  if (path.includes("skills.html")) return "skills"
  if (path.includes("contact.html")) return "contact"
  return "work" // default
}

function updateSpecificContent(pageName, texts) {
  switch (pageName) {
    case "start":
      updateStartContent(texts)
      break
    case "work":
      updateWorkContent(texts)
      break
    case "projects":
      updateProjectsContent(texts)
      break
    case "education":
      updateEducationContent(texts)
      break
    case "skills":
      updateSkillsContent(texts)
      break
    case "contact":
      updateContactContent(texts)
      break
  }
}

function updateStartContent(texts) {
  // Actualizar t√≠tulos de secciones
  const portfolioTitle = document.getElementById("portfolioSectionTitle")
  const systemTitle = document.getElementById("systemSectionTitle")
  const userTitle = document.getElementById("userTitle")

  if (portfolioTitle) portfolioTitle.textContent = texts.portfolioSection
  if (systemTitle) systemTitle.textContent = texts.systemSection
  if (userTitle) userTitle.textContent = texts.magicalDeveloper

  // Actualizar elementos del men√∫
  const menuElements = {
    menuWork: texts.work,
    menuWorkDesc: texts.workDesc,
    menuProjects: texts.projects,
    menuProjectsDesc: texts.projectsDesc,
    menuEducation: texts.education,
    menuEducationDesc: texts.educationDesc,
    menuSkills: texts.skills,
    menuSkillsDesc: texts.skillsDesc,
    menuContact: texts.contact,
    menuContactDesc: texts.contactDesc,
    menuLanguage: texts.language,
    menuLanguageDesc: texts.languageDesc,
    menuSettings: texts.settings,
    menuSettingsDesc: texts.settingsDesc,
    menuShutdown: texts.shutdown,
    menuShutdownDesc: texts.shutdownDesc,
  }

  Object.keys(menuElements).forEach((id) => {
    const element = document.getElementById(id)
    if (element) {
      element.textContent = menuElements[id]
    }
  })
}

function updateWorkContent(texts) {
  const elements = document.querySelectorAll("#workContent .section-title")
  const descriptions = document.querySelectorAll("#workContent .section-description")
  const subtitles = document.querySelectorAll("#workContent .section-subtitle")

  if (elements[0]) elements[0].textContent = texts.job1Title
  if (elements[1]) elements[1].textContent = texts.job2Title
  if (subtitles[0]) subtitles[0].textContent = texts.job1Company
  if (subtitles[1]) subtitles[1].textContent = texts.job2Company
  if (descriptions[0]) descriptions[0].textContent = texts.job1Description
  if (descriptions[1]) descriptions[1].textContent = texts.job2Description
}

function updateProjectsContent(texts) {
  const sectionTitle = document.querySelector("#projectsContent .section-title")
  const projectTitles = document.querySelectorAll(".project-title")
  const projectDescriptions = document.querySelectorAll(".project-description")

  if (sectionTitle) sectionTitle.textContent = texts.sectionTitle
  if (projectTitles[0]) projectTitles[0].textContent = texts.project1Title
  if (projectTitles[1]) projectTitles[1].textContent = texts.project2Title
  if (projectTitles[2]) projectTitles[2].textContent = texts.project3Title
  if (projectTitles[3]) projectTitles[3].textContent = texts.project4Title
  if (projectDescriptions[0]) projectDescriptions[0].textContent = texts.project1Description
  if (projectDescriptions[1]) projectDescriptions[1].textContent = texts.project2Description
  if (projectDescriptions[2]) projectDescriptions[2].textContent = texts.project3Description
  if (projectDescriptions[3]) projectDescriptions[3].textContent = texts.project4Description
}

function updateEducationContent(texts) {
  const degreeTitle = document.querySelector("#educationContent .section-title")
  const degreeSubtitle = document.querySelector("#educationContent .section-subtitle")
  const degreeDescription = document.querySelector("#educationContent .section-description")
  const certificationsTitle = document.querySelectorAll("#educationContent .section-title")[1]

  if (degreeTitle) degreeTitle.textContent = texts.degreeTitle
  if (degreeSubtitle) degreeSubtitle.textContent = texts.degreeUniversity
  if (degreeDescription) degreeDescription.textContent = texts.degreeDescription
  if (certificationsTitle) certificationsTitle.textContent = texts.certificationsTitle
}

function updateSkillsContent(texts) {
  const sectionTitles = document.querySelectorAll("#skillsContent .section-title")
  const skillNames = document.querySelectorAll(".skill-name")
  const skillLevels = document.querySelectorAll(".skill-level")

  if (sectionTitles[0]) sectionTitles[0].textContent = texts.technicalTitle
  if (sectionTitles[1]) sectionTitles[1].textContent = texts.softTitle

  // Actualizar nombres de habilidades t√©cnicas
  if (skillNames[0]) skillNames[0].textContent = texts.react
  if (skillNames[1]) skillNames[1].textContent = texts.nextjs
  if (skillNames[2]) skillNames[2].textContent = texts.typescript
  if (skillNames[3]) skillNames[3].textContent = texts.nodejs
  if (skillNames[4]) skillNames[4].textContent = texts.python
  if (skillNames[5]) skillNames[5].textContent = texts.aws

  // Actualizar nombres de habilidades blandas
  if (skillNames[6]) skillNames[6].textContent = texts.leadership
  if (skillNames[7]) skillNames[7].textContent = texts.communication
  if (skillNames[8]) skillNames[8].textContent = texts.problemSolving
  if (skillNames[9]) skillNames[9].textContent = texts.teamwork

  // Actualizar niveles
  if (skillLevels[0]) skillLevels[0].textContent = texts.expert
  if (skillLevels[1]) skillLevels[1].textContent = texts.advanced
  if (skillLevels[2]) skillLevels[2].textContent = texts.advanced
  if (skillLevels[3]) skillLevels[3].textContent = texts.intermediate
  if (skillLevels[4]) skillLevels[4].textContent = texts.intermediate
  if (skillLevels[5]) skillLevels[5].textContent = texts.intermediate
}

function updateContactContent(texts) {
  const sectionTitle = document.querySelector("#contactContent .section-title")
  const contactTitles = document.querySelectorAll(".contact-title")
  const locationInfo = document.querySelectorAll(".contact-info")[2]

  if (sectionTitle) sectionTitle.textContent = texts.sectionTitle
  if (contactTitles[0]) contactTitles[0].textContent = texts.email
  if (contactTitles[1]) contactTitles[1].textContent = texts.linkedin
  if (contactTitles[2]) contactTitles[2].textContent = texts.location
  if (contactTitles[3]) contactTitles[3].textContent = texts.phone
  if (locationInfo) locationInfo.textContent = texts.locationValue
}

function addPageTransition() {
  // Agregar transici√≥n suave al cargar la p√°gina
  document.body.style.opacity = "0"
  document.body.style.transition = "opacity 0.3s ease"
}

function toggleLanguage() {
  currentLanguage = currentLanguage === "es" ? "en" : "es"
  localStorage.setItem("language", currentLanguage)
  updatePageTexts()
  updatePageLinks()
}

function shutdownSystem() {
  // Transici√≥n de salida
  document.body.style.opacity = "0"

  setTimeout(() => {
    // Volver al index (pantalla de login)
    window.location.href = `index.html?lang=${currentLanguage}`
  }, 300)
}

function goBackToDesktop() {
  // Transici√≥n de salida
  document.body.style.opacity = "0"

  setTimeout(() => {
    // Volver al escritorio
    window.location.href = `index.html?lang=${currentLanguage}#desktop`
  }, 300)
}

function updateClock() {
  const now = new Date()
  const timeString = now.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })
  const dateString = now.toLocaleDateString()

  const timeElement = document.getElementById("currentTime")
  const dateElement = document.getElementById("currentDate")

  if (timeElement) timeElement.textContent = timeString
  if (dateElement) dateElement.textContent = dateString
}

// Agregar efectos especiales ocasionales
function addFloatingElement(emoji, duration = 3000) {
  const element = document.createElement("div")
  element.textContent = emoji
  element.style.position = "fixed"
  element.style.fontSize = "24px"
  element.style.pointerEvents = "none"
  element.style.zIndex = "100"
  element.style.left = Math.random() * window.innerWidth + "px"
  element.style.top = window.innerHeight + "px"
  element.style.transition = `all ${duration}ms ease-out`

  document.body.appendChild(element)

  setTimeout(() => {
    element.style.transform = "translateY(-" + (window.innerHeight + 100) + "px)"
    element.style.opacity = "0"
  }, 100)

  setTimeout(() => {
    if (element.parentNode) {
      element.remove()
    }
  }, duration)
}

// Efectos especiales ocasionales
function addFloatingEffects() {
  setInterval(() => {
    if (Math.random() < 0.1) {
      const emojis = ["‚ú®", "üåü", "‚≠ê", "üí´", "üåà", "üíñ", "ü¶Ñ"]
      const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)]
      addFloatingElement(randomEmoji)
    }
  }, 2000)
}
